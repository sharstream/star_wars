<!DOCTYPE html>
<html>

<head>
    <title>Start Wars Game</title>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://csshake.surge.sh/csshake.min.css">
</head>

<body>
    <div class="header">
        <header>Star Wars RPG!</header>
    </div>
    <div id="container">
        <div class="row shake-little">
            <img id="delth_vader" class="first character-image" src="assets/images/dark_vader.jpg"
                alt="character">
            <img id="obi_wan" class="second character-image" src="assets/images/obi_wan.jpg"
                alt="character">
            <img id="yoda" class="third character-image" src="assets/images/yoda.jpg"
                alt="character">
            <img id="porg" class="four character-image" src="assets/images/porg_plush.jpg"
                alt="character">
        </div>
    </div>
    <br>
    <div class="your_character"><p>Your Character</p></div>
    <div id="character" class="shake-slow selected_character"></div>
    <br>
    <div class="enemiesBox">
        <div class="enemies"></div>
        <p>Enemies Available to Attack</p>
    </div>
    <br>
    <br>
    <div class="figthBox"></div>
        <p>Fight Section</p>
        <button class="shake-hard btn-atttack">Attack</button>
    <br>    
    </div>
    <br>
    <div class="defenderBox"><p>Your Defender</p></div>
    <div id="defender" class="shake-opacity defender_character"></div>
    <br>
    <!-- Note that this div is now empty. We will fill it dynamically -->
    <div id="defeat">
    </div>
    <div class="clear">
        <button onload="resetGame()">Reset Game</button>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="assets/javascript/game.js"></script>
    <script>
        var obaImg = new Object();

        var obimids = {
            'assets/images/dark_vader.jpg': ['dark_vader', 'character'],
            'assets/images/obi_wan.jpg': ['obi_wan', 'first'],
            'assets/images/yoda.jpg': ['yoda', 'second'],
            'assets/images/porg_plush.jpg': ['porg', 'defender']
        };

        function whenAddImg() {
            return true;
        }

        obaImg.putImg = function (img, ide, stl) {
            if (document.getElementById(ide)) {
                document.getElementById(ide).innerHTML = '<img src="' + img + '" ' + 'style="width:300px;height:250px;border: 4px solid red;"' + ' />';
            }
        }
        obaImg.alternateImg = function (elmid) {
            console.log('elmid: '+elmid);
            var img = obaImg.storeim[elmid];
            console.log('img: '+ img);
            var addimg = (elmid == obimids[img][0]) ? obimids[img][1] : obimids[img][0];
            console.log('addimg: '+ addimg);
    
            $('.character-image').each(function (index) {
                if ($(this).attr("id") == 'dark_vader') {
                    obaImg.putImg(img, addimg, 'style="display:none;"');
                    $('#' + addimg + ' img').fadeIn(500);
                    $(this).show(200);
                }
                else if($(this).attr("id") == 'obi_wan'){
                    // obaImg.putImg(img, addimg, 'style="display:none;"');
                    $('#' + addimg + ' img').fadeIn(500);
                    $(this).show(200);
                }
                else if ($(this).attr("id") == 'yoda') {
                    // obaImg.putImg(img, addimg, 'style="display:none;"');
                    $('#' + addimg + ' img').fadeIn(500);
                    $(this).show(200);
                }
                else if ($(this).attr("id") == 'porg') {
                    // obaImg.putImg(img, addimg, 'style="display:none;"');
                    $('#' + addimg + ' img').fadeIn(500);
                    $(this).show(200);
                }
                else{
                    $(this).hide(600);
                }
            });

            whenAddImg();
        }
        obaImg.storeim = {};            
        obaImg.regOnclick = function () {
            for (var im in obimids) {

                obaImg.storeim[obimids[im][0]] = im;
                obaImg.storeim[obimids[im][1]] = im;
                obaImg.putImg(im, obimids[im][0]);

                document.getElementById(obimids[im][0]).onclick = function () { 
                    obaImg.alternateImg(this.id); 
                    console.log('return this.id: '+obaImg.alternateImg(this.id));
                };
                document.getElementById(obimids[im][1]).onclick = function () { 
                    obaImg.alternateImg(this.id); 
                };
            }
        }
        obaImg.regOnclick();     
    </script>
</body>

</html>